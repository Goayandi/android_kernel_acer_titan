/*
 * Copyright (C) 2015 MediaTek Inc.
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 */

#include "mt_battery_custom_data.h"
#include "mt_battery_meter.h"
#include <linux/of.h>
#include <linux/device.h>
#include <linux/of_gpio.h>
#include <linux/pinctrl/consumer.h>

/*add battery id info 0519 ---{*/
#ifdef CONFIG_NEOSTRA_HW_INFO_NODE	
#include <mt-plat/neostra_hw_info.h> 
#endif
/*add battery id info 0519 ---}*/


#define USE_TCL_ZCV_0720

#ifdef USE_TCL_ZCV_0720
#include "a10h2_tcl_battery.h"
#else
#include "a10h2_tcl_battery_ori.h"
#endif

#include "a10h2_hp_battery.h"


#define BAT_NTC_10 1
#define BAT_NTC_47 0
#define BAT_NTC_100 0

int bat_id_pin_val = 1;

#define ori_def 0

#if ori_def//ori

/* ============================================================ */
/* <DOD, Battery_Voltage> Table */
/* ============================================================ */
#if BAT_NTC_10
static struct BATT_TEMPERATURE default_batt_temperature_table_10k[] = {
#if 0
	{-20, 68237}
	,
	{-15, 53650}
	,
	{-10, 42506}
	,
	{-5, 33892}
	,
	{0, 27219}
	,
	{5, 22021}
	,
	{10, 17926}
	,
	{15, 14674}
	,
	{20, 12081}
	,
	{25, 10000}
	,
	{30, 8315}
	,
	{35, 6948}
	,
	{40, 5834}
	,
	{45, 4917}
	,
	{50, 4161}
	,
	{55, 3535}
	,
	{60, 3014}
#else
	{-20, 70654},
	{-15, 55337},
	{-10, 43662},
	{-5, 34696},
	{0, 27760},
	{5, 22358},
	{10, 18121},
	{15, 14778},
	{20, 12122},
	{25, 10000},
	{30, 8295},
	{35, 6916},
	{40, 5796},
	{45, 4881},
	{50, 4130},
	{55, 3510},
	{60, 2997}

#endif
};
#endif

#if BAT_NTC_47
static struct BATT_TEMPERATURE default_batt_temperature_table_47k[] = {
	{-20, 483954}
	,
	{-15, 360850}
	,
	{-10, 271697}
	,
	{-5, 206463}
	,
	{0, 158214}
	,
	{5, 122259}
	,
	{10, 95227}
	,
	{15, 74730}
	,
	{20, 59065}
	,
	{25, 47000}
	,
	{30, 37643}
	,
	{35, 30334}
	,
	{40, 24591}
	,
	{45, 20048}
	,
	{50, 16433}
	,
	{55, 13539}
	,
	{60, 11210}
};
#endif

#if BAT_NTC_100
static struct BATT_TEMPERATURE default_batt_temperature_table_100k[] = {
	{-20, 1151037}
	,
	{-15, 846579}
	,
	{-10, 628988}
	,
	{-5, 471632}
	,
	{0, 357012}
	,
	{5, 272500}
	,
	{10, 209710}
	,
	{15, 162651}
	,
	{20, 127080}
	,
	{25, 100000}
	,
	{30, 79222}
	,
	{35, 63167}
	,
	{40, 50677}
	,
	{45, 40904}
	,
	{50, 33195}
	,
	{55, 27091}
	,
	{60, 22224}
};
#endif

/* T0 -10C */
static struct BATTERY_PROFILE_STRUCT default_battery_profile_t0[] = {
	{0	,4169},
	{1	,4152},
	{2	,4136},
	{3	,4114},
	{4	,4094},
	{5	,4082},
	{6	,4070},
	{7	,4055},
	{9	,4038},
	{10	,4022},
	{11	,4007},
	{12	,3996},
	{13	,3986},
	{14	,3979},
	{15	,3972},
	{16	,3967},
	{17	,3961},
	{18	,3957},
	{19	,3952},
	{20	,3949},
	{21	,3944},
	{22	,3939},
	{24	,3932},
	{25	,3927},
	{26	,3920},
	{27	,3913},
	{28	,3906},
	{29	,3899},
	{30	,3891},
	{31	,3884},
	{32	,3876},
	{33	,3869},
	{34	,3862},
	{35	,3856},
	{36	,3850},
	{37	,3844},
	{38	,3840},
	{40	,3834},
	{41	,3830},
	{42	,3826},
	{43	,3822},
	{44	,3818},
	{45	,3815},
	{46	,3812},
	{47	,3808},
	{48	,3805},
	{49	,3803},
	{50	,3800},
	{51	,3798},
	{52	,3795},
	{53	,3792},
	{54	,3790},
	{56	,3788},
	{57	,3786},
	{58	,3784},
	{59	,3782},
	{60	,3781},
	{61	,3779},
	{62	,3778},
	{63	,3777},
	{64	,3776},
	{65	,3775},
	{66	,3774},
	{67	,3772},
	{68	,3771},
	{69	,3769},
	{71	,3767},
	{72	,3764},
	{73	,3763},
	{74	,3760},
	{75	,3758},
	{76	,3754},
	{77	,3751},
	{78	,3748},
	{79	,3745},
	{80	,3742},
	{81	,3738},
	{82	,3734},
	{83	,3730},
	{84	,3725},
	{85	,3720},
	{87	,3715},
	{88	,3710},
	{89	,3707},
	{90	,3704},
	{91	,3791},
	{92	,3687},
	{93	,3643},
	{94	,3617},
	{95	,3586},
	{96	,3550},
	{97	,3530},
	{98	,3520},
	{99	,3510},
	{100,3500}
};

/* T1 0C */
static struct BATTERY_PROFILE_STRUCT default_battery_profile_t1[] = {
	{0	,4169},
	{1	,4152},
	{2	,4139},
	{3	,4129},
	{4	,4118},
	{5	,4109},
	{6	,4102},
	{7	,4097},
	{8	,4092},
	{9	,4085},
	{10	,4076},
	{11	,4064},
	{12	,4049},
	{13	,4035},
	{14	,4022},
	{15	,4011},
	{16	,4002},
	{17	,3995},
	{18	,3988},
	{19	,3983},
	{20	,3978},
	{21	,3974},
	{22	,3970},
	{23	,3965},
	{24	,3961},
	{25	,3956},
	{26	,3950},
	{27	,3945},
	{28	,3940},
	{29	,3934},
	{30	,3928},
	{31	,3922},
	{32	,3916},
	{33	,3909},
	{34	,3902},
	{35	,3895},
	{36	,3887},
	{37	,3879},
	{38	,3871},
	{39	,3864},
	{40	,3858},
	{41	,3852},
	{42	,3847},
	{43	,3842},
	{44	,3838},
	{45	,3834},
	{46	,3830},
	{47	,3827},
	{48	,3823},
	{49	,3820},
	{50	,3817},
	{51	,3814},
	{52	,3812},
	{53	,3809},
	{54	,3806},
	{55	,3804},
	{57	,3800},
	{58	,3798},
	{59	,3796},
	{60	,3794},
	{61	,3793},
	{62	,3791},
	{64	,3789},
	{66	,3788},
	{68	,3786},
	{70	,3784},
	{72	,3781},
	{73	,3779},
	{74	,3776},
	{75	,3774},
	{76	,3771},
	{77	,3768},
	{78	,3766},
	{79	,3763},
	{80	,3759},
	{81	,3756},
	{82	,3752},
	{83	,3748},
	{84	,3744},
	{85	,3740},
	{86	,3735},
	{87	,3730},
	{88	,3725},
	{89	,3718},
	{90	,3712},
	{91	,3709},
	{92	,3696},
	{93	,3674},
	{94	,3632},
	{95	,3599},
	{96	,3550},
	{97	,3530},
	{98	,3520},
	{99	,3510},
	{100,3500}
};

/* T2 25C */
static struct BATTERY_PROFILE_STRUCT default_battery_profile_t2[] = {
	{0	,4186},
	{1	,4169},
	{2	,4159},
	{3	,4149},
	{4	,4140},
	{5	,4130},
	{6	,4121},
	{7	,4112},
	{8	,4104},
	{9	,4095},
	{10	,4087},
	{11	,4073},
	{12	,4067},
	{13	,4060},
	{14	,4050},
	{15	,4038},
	{16	,4027},
	{17	,4017},
	{18	,4008},
	{19	,4001},
	{20	,3994},
	{21	,3988},
	{22	,3982},
	{23	,3977},
	{24	,3972},
	{25	,3966},
	{26	,3961},
	{27	,3955},
	{28	,3949},
	{29	,3943},
	{30	,3938},
	{31	,3926},
	{32	,3921},
	{33	,3915},
	{34	,3909},
	{35	,3903},
	{36	,3897},
	{37	,3891},
	{38	,3883},
	{39	,3874},
	{40	,3865},
	{41	,3857},
	{42	,3850},
	{43	,3844},
	{44	,3839},
	{45	,3834},
	{46	,3830},
	{47	,3825},
	{48	,3822},
	{49	,3818},
	{50	,3815},
	{51	,3811},
	{52	,3809},
	{53	,3803},
	{54	,3800},
	{55	,3798},
	{56	,3795},
	{57	,3793},
	{58	,3791},
	{60	,3787},
	{61	,3785},
	{62	,3783},
	{64	,3780},
	{66	,3777},
	{68	,3775},
	{70	,3772},
	{71	,3770},
	{72	,3766},
	{73	,3760},
	{74	,3757},
	{75	,3754},
	{76	,3750},
	{77	,3747},
	{79	,3742},
	{80	,3739},
	{81	,3736},
	{82	,3733},
	{83	,3729},
	{84	,3725},
	{85	,3720},
	{86	,3716},
	{87	,3712},
	{88	,3707},
	{89	,3701},
	{90	,3693},
	{91	,3690},
	{92	,3688},
	{93	,3657},
	{94	,3630},
	{95	,3590},
	{96	,3550},
	{97	,3530},
	{98	,3520},
	{99	,3510},
	{100,3500}
};

/* T3 50C */
static struct BATTERY_PROFILE_STRUCT default_battery_profile_t3[] = {
	{0	,4179 },
	{1	,4165 },
	{2	,4151 },
	{3	,4142 },
	{4	,4133 },
	{5	,4123 },
	{6	,4112 },
	{7	,4103 },
	{8	,4094 },
	{9	,4085 },
	{10	,4067 },
	{11	,4058 },
	{12	,4049 },
	{13	,4041 },
	{14	,4033 },
	{15	,4026 },
	{16	,4016 },
	{17	,4009 },
	{18	,4001 },
	{19	,3995 },
	{20	,3985 },
	{21	,3978 },
	{22	,3971 },
	{23	,3964 },
	{24	,3957 },
	{25	,3950 },
	{26	,3943 },
	{27	,3937 },
	{28	,3931 },
	{29	,3923 },
	{30	,3917 },
	{31	,3911 },
	{32	,3900 },
	{33	,3894 },
	{34	,3889 },
	{35	,3881 },
	{36	,3877 },
	{37	,3871 },
	{38	,3864 },
	{39	,3860 },
	{40	,3852 },
	{41	,3841 },
	{42	,3833 },
	{43	,3824 },
	{44	,3816 },
	{45	,3810 },
	{46	,3806 },
	{47	,3801 },
	{48	,3798 },
	{49	,3793 },
	{50	,3790 },
	{51	,3782 },
	{52	,3779 },
	{53	,3776 },
	{54	,3773 },
	{55	,3770 },
	{57	,3765 },
	{59	,3761 },
	{60	,3759 },
	{61	,3757 },
	{62	,3754 },
	{64	,3751 },
	{65	,3748 },
	{66	,3747 },
	{67	,3745 },
	{68	,3743 },
	{69	,3740 },
	{70	,3737 },
	{71	,3733 },
	{72	,3728 },
	{73	,3722 },
	{75	,3712 },
	{76	,3709 },
	{77	,3706 },
	{79	,3700 },
	{80	,3697 },
	{81	,3695 },
	{83	,3689 },
	{84	,3686 },
	{85	,3680 },
	{86	,3675 },
	{87	,3672 },
	{88	,3668 },
	{89	,3663 },
	{90	,3650 },
	{91	,3646 },
	{92	,3644 },
	{93	,3633 },
	{94	,3621 },
	{95	,3590 },
	{96	,3550 },
	{97	,3530 },
	{98	,3520 },
	{99	,3510 },
	{100,3500}
};

/* battery profile for actual temperature. The size should be the same as T1, T2 and T3 */
static struct BATTERY_PROFILE_STRUCT default_battery_profile_temperature[] = {
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};

/* ============================================================ */
/* <Rbat, Battery_Voltage> Table */
/* ============================================================ */
/* BAT1 R profile */
/* T0 -10C */
static struct R_PROFILE_STRUCT default_r_profile_t0[] = {
	{176 ,4169},	
	{176 ,4152},	
	{181 ,4136},	
	{189 ,4114},	
	{205 ,4094},	
	{219 ,4082},	
	{224 ,4070},	
	{228 ,4055},	
	{230 ,4038},	
	{231 ,4022},	
	{232 ,4007},	
	{234 ,3996},	
	{235 ,3986},	
	{237 ,3979},	
	{237 ,3972},	
	{240 ,3967},	
	{239 ,3961},	
	{241 ,3957},	
	{243 ,3952},	
	{247 ,3949},	
	{228 ,3944},	
	{247 ,3939},	
	{246 ,3932},	
	{248 ,3927},	
	{247 ,3920},	
	{247 ,3913},	
	{245 ,3906},	
	{246 ,3899},	
	{242 ,3891},	
	{240 ,3884},	
	{238 ,3876},	
	{237 ,3869},	
	{237 ,3862},	
	{236 ,3856},	
	{198 ,3850},	
	{231 ,3844},	
	{234 ,3840},	
	{233 ,3834},	
	{233 ,3830},	
	{236 ,3826},	
	{237 ,3822},	
	{236 ,3818},	
	{237 ,3815},	
	{238 ,3812},	
	{238 ,3808},	
	{239 ,3805},	
	{240 ,3803},	
	{240 ,3800},	
	{241 ,3798},	
	{241 ,3795},	
	{242 ,3792},	
	{243 ,3790},	
	{244 ,3788},	
	{246 ,3786},	
	{247 ,3784},	
	{246 ,3782},	
	{247 ,3781},	
	{247 ,3779},	
	{248 ,3778},	
	{249 ,3777},	
	{249 ,3776},	
	{251 ,3775},	
	{251 ,3774},	
	{253 ,3772},	
	{253 ,3771},	
	{252 ,3769},	
	{251 ,3767},	
	{254 ,3764},	
	{255 ,3763},	
	{254 ,3760},	
	{255 ,3758},	
	{255 ,3754},	
	{258 ,3751},	
	{257 ,3748},	
	{258 ,3745},	
	{259 ,3742},	
	{260 ,3738},	
	{259 ,3734},	
	{262 ,3730},	
	{263 ,3725},	
	{263 ,3720},	
	{266 ,3715},	
	{267 ,3710},	
	{273 ,3707},	
	{278 ,3704},	
	{288 ,3701},	
	{295 ,3697},	
	{309 ,3693},	
	{322 ,3687},	
	{340 ,3676},	
	{360 ,3656},	
	{386 ,3627},	
	{427 ,3589},	
	{488 ,3539},	
	{584 ,3500}
};

/* T1 0C */
static struct R_PROFILE_STRUCT default_r_profile_t1[] = {
	{122 ,4169},	
	{122 ,4152},	
	{124 ,4139},	
	{124 ,4129},	
	{126 ,4118},	
	{127 ,4109},	
	{128 ,4102},	
	{130 ,4097},	
	{131 ,4092},	
	{131 ,4085},	
	{131 ,4076},	
	{130 ,4064},	
	{132 ,4049},	
	{133 ,4035},	
	{132 ,4022},	
	{133 ,4011},	
	{134 ,4002},	
	{136 ,3995},	
	{136 ,3988},	
	{137 ,3983},	
	{139 ,3978},	
	{137 ,3974},	
	{138 ,3970},	
	{142 ,3965},	
	{143 ,3961},	
	{144 ,3956},	
	{144 ,3950},	
	{146 ,3945},	
	{146 ,3940},	
	{146 ,3934},	
	{147 ,3928},	
	{147 ,3922},	
	{145 ,3916},	
	{144 ,3909},	
	{144 ,3902},	
	{142 ,3895},	
	{139 ,3887},	
	{137 ,3879},	
	{135 ,3871},	
	{134 ,3864},	
	{132 ,3858},	
	{131 ,3852},	
	{129 ,3847},	
	{127 ,3842},	
	{127 ,3838},	
	{126 ,3834},	
	{129 ,3830},	
	{129 ,3827},	
	{128 ,3823},	
	{129 ,3820},	
	{129 ,3817},	
	{130 ,3814},	
	{131 ,3812},	
	{131 ,3809},	
	{128 ,3806},	
	{129 ,3804},	
	{132 ,3800},	
	{133 ,3798},	
	{133 ,3796},	
	{134 ,3794},	
	{134 ,3793},	
	{134 ,3791},	
	{134 ,3789},	
	{134 ,3788},	
	{136 ,3786},	
	{136 ,3784},	
	{136 ,3781},	
	{137 ,3779},	
	{136 ,3776},	
	{136 ,3774},	
	{134 ,3771},	
	{132 ,3768},	
	{133 ,3766},	
	{136 ,3763},	
	{136 ,3759},	
	{136 ,3756},	
	{136 ,3752},	
	{137 ,3748},	
	{137 ,3744},	
	{138 ,3740},	
	{138 ,3735},	
	{139 ,3730},	
	{138 ,3725},	
	{135 ,3718},	
	{137 ,3712},	
	{139 ,3709},	
	{141 ,3706},	
	{144 ,3704},	
	{150 ,3702},	
	{156 ,3699},	
	{164 ,3692},	
	{165 ,3674},	
	{167 ,3639},	
	{174 ,3593},	
	{193 ,3500}
};

/* T2 25C */
static struct R_PROFILE_STRUCT default_r_profile_t2[] = {
	{84  ,4186},	
	{84  ,4169},	
	{85  ,4159},	
	{85  ,4149},	
	{86  ,4140},	
	{86  ,4130},	
	{86  ,4121},	
	{86  ,4112},	
	{87  ,4104},	
	{87  ,4095},	
	{88  ,4087},	
	{89  ,4073},	
	{89  ,4067},	
	{89  ,4060},	
	{89  ,4050},	
	{88  ,4038},	
	{88  ,4027},	
	{89  ,4017},	
	{89  ,4008},	
	{89  ,4001},	
	{89  ,3994},	
	{89  ,3988},	
	{89  ,3982},	
	{90  ,3977},	
	{91  ,3972},	
	{91  ,3966},	
	{91  ,3961},	
	{92  ,3955},	
	{92  ,3949},	
	{92  ,3943},	
	{93  ,3938},	
	{94  ,3926},	
	{94  ,3921},	
	{96  ,3915},	
	{96  ,3909},	
	{97  ,3903},	
	{98  ,3897},	
	{97  ,3891},	
	{95  ,3883},	
	{93  ,3874},	
	{91  ,3865},	
	{89  ,3857},	
	{87  ,3850},	
	{88  ,3844},	
	{87  ,3839},	
	{87  ,3834},	
	{86  ,3830},	
	{86  ,3825},	
	{87  ,3822},	
	{87  ,3818},	
	{86  ,3815},	
	{86  ,3811},	
	{87  ,3809},	
	{87  ,3803},	
	{87  ,3800},	
	{87  ,3798},	
	{87  ,3795},	
	{87  ,3793},	
	{87  ,3791},	
	{87  ,3787},	
	{88  ,3785},	
	{88  ,3783},	
	{89  ,3780},	
	{89  ,3777},	
	{91  ,3775},	
	{90  ,3772},	
	{89  ,3770},	
	{88  ,3766},	
	{87  ,3760},	
	{87  ,3757},	
	{87  ,3754},	
	{87  ,3750},	
	{86  ,3747},	
	{88  ,3742},	
	{87  ,3739},	
	{87  ,3736},	
	{88  ,3733},	
	{87  ,3729},	
	{88  ,3725},	
	{88  ,3720},	
	{88  ,3716},	
	{89  ,3712},	
	{89  ,3707},	
	{89  ,3701},	
	{88  ,3693},	
	{88  ,3690},	
	{90  ,3688},	
	{90  ,3687},	
	{91  ,3685},	
	{93  ,3678},	
	{92  ,3666},	
	{92  ,3637},	
	{93  ,3599},	
	{96  ,3550},	
	{96  ,3500}
};

/* T3 50C */
static struct R_PROFILE_STRUCT default_r_profile_t3[] = {
	{81 ,4179},	
	{81 ,4165},	
	{76 ,4151},	
	{79 ,4142},	
	{81 ,4133},	
	{81 ,4123},	
	{79 ,4112},	
	{81 ,4103},	
	{79 ,4094},	
	{79 ,4085},	
	{79 ,4067},	
	{81 ,4058},	
	{79 ,4049},	
	{79 ,4041},	
	{79 ,4033},	
	{81 ,4026},	
	{81 ,4016},	
	{79 ,4009},	
	{79 ,4001},	
	{81 ,3995},	
	{84 ,3985},	
	{81 ,3978},	
	{79 ,3971},	
	{83 ,3964},	
	{81 ,3957},	
	{81 ,3950},	
	{81 ,3943},	
	{81 ,3937},	
	{84 ,3931},	
	{84 ,3923},	
	{81 ,3917},	
	{81 ,3911},	
	{81 ,3900},	
	{81 ,3894},	
	{86 ,3889},	
	{86 ,3881},	
	{86 ,3877},	
	{84 ,3871},	
	{86 ,3864},	
	{86 ,3860},	
	{86 ,3852},	
	{88 ,3841},	
	{88 ,3833},	
	{84 ,3824},	
	{83 ,3816},	
	{81 ,3810},	
	{79 ,3806},	
	{79 ,3801},	
	{79 ,3798},	
	{81 ,3793},	
	{81 ,3790},	
	{81 ,3782},	
	{81 ,3779},	
	{81 ,3776},	
	{79 ,3773},	
	{79 ,3770},	
	{79 ,3765},	
	{76 ,3761},	
	{79 ,3759},	
	{81 ,3757},	
	{81 ,3754},	
	{81 ,3751},	
	{84 ,3748},	
	{81 ,3747},	
	{81 ,3745},	
	{84 ,3743},	
	{81 ,3740},	
	{81 ,3737},	
	{81 ,3733},	
	{81 ,3728},	
	{81 ,3722},	
	{81 ,3712},	
	{81 ,3709},	
	{79 ,3706},	
	{79 ,3700},	
	{79 ,3697},	
	{79 ,3695},	
	{81 ,3689},	
	{81 ,3686},	
	{81 ,3680},	
	{81 ,3675},	
	{81 ,3672},	
	{79 ,3668},	
	{79 ,3663},	
	{79 ,3650},	
	{79 ,3646},	
	{81 ,3644},	
	{84 ,3643},	
	{81 ,3641},	
	{79 ,3640},	
	{79 ,3633},	
	{79 ,3621},	
	{81 ,3590},	
	{84 ,3551},	
	{86 ,3500}
};

/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3 */
static struct R_PROFILE_STRUCT default_r_profile_temperature[] = {
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};

static struct mt_battery_meter_custom_data default_bat_meter_data = {
	.cust_tabt_number = 8,
#ifdef CONFIG_SWCHR_POWER_PATH
	.vbat_channel_number = 1,	/* w/ powerpath, battery voltage is ISENSE(1) */
	.isense_channel_number = 0,	/* w/ powerpath, system voltage is VSENSE(0) */
#else
	.vbat_channel_number = 0,
	.isense_channel_number = 1,
#endif
	.vcharger_channel_number = 2,
	.vbattemp_channel_number = 3,

	/*ADC resistor  */
	.r_bat_sense = 4,
	.r_i_sense = 4,
	.r_charger_1 = 330,
	.r_charger_2 = 39,

	.temperature_t0 = 110,
	.tempearture_t1 = 0,
	.temperature_t1_5 = 10,
	.temperature_t2 = 25,
	.temperature_t3 = 50,
	.temperature_t = 255,	/* This should be fixed, never change the value */

	.fg_meter_resistance = 0,

	.q_max_pos_50 = 3029,
	.q_max_pos_25 = 3029,
	.q_max_pos_10 = 3029,
	.q_max_pos_0 = 3029,
	.q_max_neg_10 = 3029,

	.q_max_pos_50_h_current = 2989,
	.q_max_pos_25_h_current = 2989,
	.q_max_pos_10_h_current = 2989,
	.q_max_pos_0_h_current = 2989,
	.q_max_neg_10_h_current = 2989,

	/* Discharge Percentage */
	.oam_d5 = 1,		/* 1 : D5,   0: D2 */

	.cust_tracking_point = 0,
	.cust_r_sense = 68,
	.cust_hw_cc = 0,
	.aging_tuning_value = 100,
	.cust_r_fg_offset = 0,

	.ocv_board_compesate = 0,	/* mV */
	.r_fg_board_base = 1000,
	.r_fg_board_slope = 1000,
	.car_tune_value = 100,

	/* HW Fuel gague  */
	.current_detect_r_fg = -1,	/* turn off auto detect for auxadc gauge */
	.min_error_offset = 1000,
	.fg_vbat_average_size = 18,
	.r_fg_value = 10,	/* mOhm, base is 10 */

	.poweron_delta_capacity_tolerance = 45,
	.poweron_low_capacity_tolerance = 5,
	.poweron_max_vbat_tolerance = 90,
	.poweron_delta_vbat_tolerance = 30,

	/* ocv2cv transform */
	.enable_ocv2cv_trans = 0, /* default off. change to 1 your zcv profile is ready */
	.step_of_qmax = 54, /*mAh*/
	.cv_current = 6000, /*0.1mA*/

	/* Dynamic change wake up period of battery thread when suspend */
	.vbat_normal_wakeup = 3600,	/* 3.6V */
	.vbat_low_power_wakeup = 3500,	/* 3.5V */
	.normal_wakeup_period = 5400,	/* 90 * 60 = 90 min */
	.low_power_wakeup_period = 300,	/* 5 * 60 = 5 min */
	.close_poweroff_wakeup_period = 30,	/* 30s */

	/* meter table */
	.rbat_pull_up_volt = 1200,
#if (BAT_NTC_10 == 1)
	.rbat_pull_up_r = 16900,
	.rbat_pull_down_r = 100000000,
	.battery_ntc_table_saddles =
	    sizeof(default_batt_temperature_table_10k) / sizeof(struct BATT_TEMPERATURE),
	.p_batt_temperature_table = default_batt_temperature_table_10k,
#elif (BAT_NTC_47 == 1)
	.rbat_pull_up_r = 24000,
	.rbat_pull_down_r = 100000000,
	.battery_ntc_table_saddles =
	    sizeof(default_batt_temperature_table_47k) / sizeof(struct BATT_TEMPERATURE),
	.p_batt_temperature_table = default_batt_temperature_table_47k,
#elif (BAT_NTC_100 == 1)
	.rbat_pull_up_r = 24000,
	.rbat_pull_down_r = 100000000,
	.battery_ntc_table_saddles =
	    sizeof(default_batt_temperature_table_100k) / sizeof(struct BATT_TEMPERATURE),
	.p_batt_temperature_table = default_batt_temperature_table_100k,
#endif
	.battery_profile_saddles =
	    sizeof(default_battery_profile_temperature) / sizeof(struct BATTERY_PROFILE_STRUCT),
	.battery_r_profile_saddles =
	    sizeof(default_r_profile_temperature) / sizeof(struct R_PROFILE_STRUCT),
	.battery_aging_table_saddles = 0,
	.p_battery_profile_t0 = default_battery_profile_t0,
	.p_battery_profile_t1 = default_battery_profile_t1,
	.p_battery_profile_t1_5 = NULL,
	.p_battery_profile_t2 = default_battery_profile_t2,
	.p_battery_profile_t3 = default_battery_profile_t3,
	.p_r_profile_t0 = default_r_profile_t0,
	.p_r_profile_t1 = default_r_profile_t1,
	.p_r_profile_t1_5 = NULL,
	.p_r_profile_t2 = default_r_profile_t2,
	.p_r_profile_t3 = default_r_profile_t3,
	.p_battery_profile_temperature = default_battery_profile_temperature,
	.p_r_profile_temperature = default_r_profile_temperature,
	.p_battery_aging_table = NULL
};

#endif
/* T0 -10C */
static struct BATTERY_PROFILE_STRUCT p1v1_custom_battery_profile_t0[] = {
	{0	,4169},
	{1	,4152},
	{2	,4136},
	{3	,4114},
	{4	,4094},
	{5	,4082},
	{6	,4070},
	{7	,4055},
	{9	,4038},
	{10	,4022},
	{11	,4007},
	{12	,3996},
	{13	,3986},
	{14	,3979},
	{15	,3972},
	{16	,3967},
	{17	,3961},
	{18	,3957},
	{19	,3952},
	{20	,3949},
	{21	,3944},
	{22	,3939},
	{24	,3932},
	{25	,3927},
	{26	,3920},
	{27	,3913},
	{28	,3906},
	{29	,3899},
	{30	,3891},
	{31	,3884},
	{32	,3876},
	{33	,3869},
	{34	,3862},
	{35	,3856},
	{36	,3850},
	{37	,3844},
	{38	,3840},
	{40	,3834},
	{41	,3830},
	{42	,3826},
	{43	,3822},
	{44	,3818},
	{45	,3815},
	{46	,3812},
	{47	,3808},
	{48	,3805},
	{49	,3803},
	{50	,3800},
	{51	,3798},
	{52	,3795},
	{53	,3792},
	{54	,3790},
	{56	,3788},
	{57	,3786},
	{58	,3784},
	{59	,3782},
	{60	,3781},
	{61	,3779},
	{62	,3778},
	{63	,3777},
	{64	,3776},
	{65	,3775},
	{66	,3774},
	{67	,3772},
	{68	,3771},
	{69	,3769},
	{71	,3767},
	{72	,3764},
	{73	,3763},
	{74	,3760},
	{75	,3758},
	{76	,3754},
	{77	,3751},
	{78	,3748},
	{79	,3745},
	{80	,3742},
	{81	,3738},
	{82	,3734},
	{83	,3730},
	{84	,3725},
	{85	,3720},
	{87	,3715},
	{88	,3710},
	{89	,3707},
	{90	,3700},
	{91	,3691},
	{92	,3677},
	{93	,3643},
	{94	,3627},
	{95	,3586},
	{96	,3550},
	{97	,3530},
	{98	,3520},
	{99	,3510},
	{100,3500}
};

/* T1 0C */
static struct BATTERY_PROFILE_STRUCT p1v1_custom_battery_profile_t1[] = {
	{0	,4169},
	{1	,4152},
	{2	,4139},
	{3	,4129},
	{4	,4118},
	{5	,4109},
	{6	,4102},
	{7	,4097},
	{8	,4092},
	{9	,4085},
	{10	,4076},
	{11	,4064},
	{12	,4049},
	{13	,4035},
	{14	,4022},
	{15	,4011},
	{16	,4002},
	{17	,3995},
	{18	,3988},
	{19	,3983},
	{20	,3978},
	{21	,3974},
	{22	,3970},
	{23	,3965},
	{24	,3961},
	{25	,3956},
	{26	,3950},
	{27	,3945},
	{28	,3940},
	{29	,3934},
	{30	,3928},
	{31	,3922},
	{32	,3916},
	{33	,3909},
	{34	,3902},
	{35	,3895},
	{36	,3887},
	{37	,3879},
	{38	,3871},
	{39	,3864},
	{40	,3858},
	{41	,3852},
	{42	,3847},
	{43	,3842},
	{44	,3838},
	{45	,3834},
	{46	,3830},
	{47	,3827},
	{48	,3823},
	{49	,3820},
	{50	,3817},
	{51	,3814},
	{52	,3812},
	{53	,3809},
	{54	,3806},
	{55	,3804},
	{57	,3800},
	{58	,3798},
	{59	,3796},
	{60	,3794},
	{61	,3793},
	{62	,3791},
	{64	,3789},
	{66	,3788},
	{68	,3786},
	{70	,3784},
	{72	,3781},
	{73	,3779},
	{74	,3776},
	{75	,3774},
	{76	,3771},
	{77	,3768},
	{78	,3766},
	{79	,3763},
	{80	,3759},
	{81	,3756},
	{82	,3752},
	{83	,3748},
	{84	,3744},
	{85	,3740},
	{86	,3735},
	{87	,3730},
	{88	,3725},
	{89	,3718},
	{90	,3710},
	{91	,3699},
	{92	,3676},
	{93	,3654},
	{94	,3632},
	{95	,3579},
	{96	,3550},
	{97	,3530},
	{98	,3520},
	{99	,3510},
	{100,3500}

};

/* T2 25C */
static struct BATTERY_PROFILE_STRUCT p1v1_custom_battery_profile_t2[] = {
	{0	,4186},
	{1	,4169},
	{2	,4159},
	{3	,4149},
	{4	,4140},
	{5	,4130},
	{6	,4121},
	{7	,4112},
	{8	,4104},
	{9	,4095},
	{10	,4087},
	{11	,4073},
	{12	,4067},
	{13	,4060},
	{14	,4050},
	{15	,4038},
	{16	,4027},
	{17	,4017},
	{18	,4008},
	{19	,4001},
	{20	,3994},
	{21	,3988},
	{22	,3982},
	{23	,3977},
	{24	,3972},
	{25	,3966},
	{26	,3961},
	{27	,3955},
	{28	,3949},
	{29	,3943},
	{30	,3938},
	{31	,3926},
	{32	,3921},
	{33	,3915},
	{34	,3909},
	{35	,3903},
	{36	,3897},
	{37	,3891},
	{38	,3883},
	{39	,3874},
	{40	,3865},
	{41	,3857},
	{42	,3850},
	{43	,3844},
	{44	,3839},
	{45	,3834},
	{46	,3830},
	{47	,3825},
	{48	,3822},
	{49	,3818},
	{50	,3815},
	{51	,3811},
	{52	,3809},
	{53	,3803},
	{54	,3800},
	{55	,3798},
	{56	,3795},
	{57	,3793},
	{58	,3791},
	{60	,3787},
	{61	,3785},
	{62	,3783},
	{64	,3780},
	{66	,3777},
	{68	,3775},
	{70	,3772},
	{71	,3770},
	{72	,3766},
	{73	,3760},
	{74	,3757},
	{75	,3754},
	{76	,3750},
	{77	,3747},
	{79	,3742},
	{80	,3739},
	{81	,3736},
	{82	,3733},
	{83	,3729},
	{84	,3725},
	{85	,3720},
	{86	,3716},
	{87	,3712},
	{88	,3707},
	{89	,3691},
	{90	,3683},
	{91	,3665},
	{92	,3648},
	{93	,3627},
	{94	,3605},
	{95	,3587},
	{96	,3550},
	{97	,3530},
	{98	,3520},
	{99	,3510},
	{100,3500}
};

/* T3 50C */
static struct BATTERY_PROFILE_STRUCT p1v1_custom_battery_profile_t3[] = {
	{0	,4179 },
	{1	,4165 },
	{2	,4151 },
	{3	,4142 },
	{4	,4133 },
	{5	,4123 },
	{6	,4112 },
	{7	,4103 },
	{8	,4094 },
	{9	,4085 },
	{10	,4067 },
	{11	,4058 },
	{12	,4049 },
	{13	,4041 },
	{14	,4033 },
	{15	,4026 },
	{16	,4016 },
	{17	,4009 },
	{18	,4001 },
	{19	,3995 },
	{20	,3985 },
	{21	,3978 },
	{22	,3971 },
	{23	,3964 },
	{24	,3957 },
	{25	,3950 },
	{26	,3943 },
	{27	,3937 },
	{28	,3931 },
	{29	,3923 },
	{30	,3917 },
	{31	,3911 },
	{32	,3900 },
	{33	,3894 },
	{34	,3889 },
	{35	,3881 },
	{36	,3877 },
	{37	,3871 },
	{38	,3864 },
	{39	,3860 },
	{40	,3852 },
	{41	,3841 },
	{42	,3833 },
	{43	,3824 },
	{44	,3816 },
	{45	,3810 },
	{46	,3806 },
	{47	,3801 },
	{48	,3798 },
	{49	,3793 },
	{50	,3790 },
	{51	,3782 },
	{52	,3779 },
	{53	,3776 },
	{54	,3773 },
	{55	,3770 },
	{57	,3765 },
	{59	,3761 },
	{60	,3759 },
	{61	,3757 },
	{62	,3754 },
	{64	,3751 },
	{65	,3748 },
	{66	,3747 },
	{67	,3745 },
	{68	,3743 },
	{69	,3740 },
	{70	,3737 },
	{71	,3733 },
	{72	,3728 },
	{73	,3722 },
	{75	,3712 },
	{76	,3709 },
	{77	,3706 },
	{79	,3700 },
	{80	,3697 },
	{81	,3695 },
	{83	,3689 },
	{84	,3686 },
	{85	,3680 },
	{86	,3675 },
	{87	,3672 },
	{88	,3668 },
	{89	,3663 },
	{90	,3650 },
	{91	,3646 },
	{92	,3640 },
	{93	,3633 },
	{94	,3621 },
	{95	,3580 },
	{96	,3550 },
	{97	,3530 },
	{98	,3520 },
	{99	,3510 },
	{100,3500}
};

/* T0 -10C */
static struct R_PROFILE_STRUCT p1v1_custom_r_profile_t0[] = {
	{176 ,4169},	
	{176 ,4152},	
	{181 ,4136},	
	{189 ,4114},	
	{205 ,4094},	
	{219 ,4082},	
	{224 ,4070},	
	{228 ,4055},	
	{230 ,4038},	
	{231 ,4022},	
	{232 ,4007},	
	{234 ,3996},	
	{235 ,3986},	
	{237 ,3979},	
	{237 ,3972},	
	{240 ,3967},	
	{239 ,3961},	
	{241 ,3957},	
	{243 ,3952},	
	{247 ,3949},	
	{228 ,3944},	
	{247 ,3939},	
	{246 ,3932},	
	{248 ,3927},	
	{247 ,3920},	
	{247 ,3913},	
	{245 ,3906},	
	{246 ,3899},	
	{242 ,3891},	
	{240 ,3884},	
	{238 ,3876},	
	{237 ,3869},	
	{237 ,3862},	
	{236 ,3856},	
	{198 ,3850},	
	{231 ,3844},	
	{234 ,3840},	
	{233 ,3834},	
	{233 ,3830},	
	{236 ,3826},	
	{237 ,3822},	
	{236 ,3818},	
	{237 ,3815},	
	{238 ,3812},	
	{238 ,3808},	
	{239 ,3805},	
	{240 ,3803},	
	{240 ,3800},	
	{241 ,3798},	
	{241 ,3795},	
	{242 ,3792},	
	{243 ,3790},	
	{244 ,3788},	
	{246 ,3786},	
	{247 ,3784},	
	{246 ,3782},	
	{247 ,3781},	
	{247 ,3779},	
	{248 ,3778},	
	{249 ,3777},	
	{249 ,3776},	
	{251 ,3775},	
	{251 ,3774},	
	{253 ,3772},	
	{253 ,3771},	
	{252 ,3769},	
	{251 ,3767},	
	{254 ,3764},	
	{255 ,3763},	
	{254 ,3760},	
	{255 ,3758},	
	{255 ,3754},	
	{258 ,3751},	
	{257 ,3748},	
	{258 ,3745},	
	{259 ,3742},	
	{260 ,3738},	
	{259 ,3734},	
	{262 ,3730},	
	{263 ,3725},	
	{263 ,3720},	
	{266 ,3715},	
	{267 ,3710},	
	{273 ,3707},	
	{278 ,3704},	
	{288 ,3701},	
	{295 ,3697},	
	{309 ,3693},	
	{322 ,3687},	
	{340 ,3676},	
	{360 ,3656},	
	{386 ,3627},	
	{427 ,3589},	
	{488 ,3539},	
	{584 ,3500}
};

/* T1 0C */
struct R_PROFILE_STRUCT p1v1_custom_r_profile_t1[] = {
	{122 ,4169},	
	{122 ,4152},	
	{124 ,4139},	
	{124 ,4129},	
	{126 ,4118},	
	{127 ,4109},	
	{128 ,4102},	
	{130 ,4097},	
	{131 ,4092},	
	{131 ,4085},	
	{131 ,4076},	
	{130 ,4064},	
	{132 ,4049},	
	{133 ,4035},	
	{132 ,4022},	
	{133 ,4011},	
	{134 ,4002},	
	{136 ,3995},	
	{136 ,3988},	
	{137 ,3983},	
	{139 ,3978},	
	{137 ,3974},	
	{138 ,3970},	
	{142 ,3965},	
	{143 ,3961},	
	{144 ,3956},	
	{144 ,3950},	
	{146 ,3945},	
	{146 ,3940},	
	{146 ,3934},	
	{147 ,3928},	
	{147 ,3922},	
	{145 ,3916},	
	{144 ,3909},	
	{144 ,3902},	
	{142 ,3895},	
	{139 ,3887},	
	{137 ,3879},	
	{135 ,3871},	
	{134 ,3864},	
	{132 ,3858},	
	{131 ,3852},	
	{129 ,3847},	
	{127 ,3842},	
	{127 ,3838},	
	{126 ,3834},	
	{129 ,3830},	
	{129 ,3827},	
	{128 ,3823},	
	{129 ,3820},	
	{129 ,3817},	
	{130 ,3814},	
	{131 ,3812},	
	{131 ,3809},	
	{128 ,3806},	
	{129 ,3804},	
	{132 ,3800},	
	{133 ,3798},	
	{133 ,3796},	
	{134 ,3794},	
	{134 ,3793},	
	{134 ,3791},	
	{134 ,3789},	
	{134 ,3788},	
	{136 ,3786},	
	{136 ,3784},	
	{136 ,3781},	
	{137 ,3779},	
	{136 ,3776},	
	{136 ,3774},	
	{134 ,3771},	
	{132 ,3768},	
	{133 ,3766},	
	{136 ,3763},	
	{136 ,3759},	
	{136 ,3756},	
	{136 ,3752},	
	{137 ,3748},	
	{137 ,3744},	
	{138 ,3740},	
	{138 ,3735},	
	{139 ,3730},	
	{138 ,3725},	
	{135 ,3718},	
	{137 ,3712},	
	{139 ,3709},	
	{141 ,3706},	
	{144 ,3704},	
	{150 ,3702},	
	{156 ,3699},	
	{164 ,3692},	
	{165 ,3674},	
	{167 ,3639},	
	{174 ,3593},	
	{193 ,3500}
};

/* T2 25C */
static struct R_PROFILE_STRUCT p1v1_custom_r_profile_t2[] = {
	{84  ,4186},	
	{84  ,4169},	
	{85  ,4159},	
	{85  ,4149},	
	{86  ,4140},	
	{86  ,4130},	
	{86  ,4121},	
	{86  ,4112},	
	{87  ,4104},	
	{87  ,4095},	
	{88  ,4087},	
	{89  ,4073},	
	{89  ,4067},	
	{89  ,4060},	
	{89  ,4050},	
	{88  ,4038},	
	{88  ,4027},	
	{89  ,4017},	
	{89  ,4008},	
	{89  ,4001},	
	{89  ,3994},	
	{89  ,3988},	
	{89  ,3982},	
	{90  ,3977},	
	{91  ,3972},	
	{91  ,3966},	
	{91  ,3961},	
	{92  ,3955},	
	{92  ,3949},	
	{92  ,3943},	
	{93  ,3938},	
	{94  ,3926},	
	{94  ,3921},	
	{96  ,3915},	
	{96  ,3909},	
	{97  ,3903},	
	{98  ,3897},	
	{97  ,3891},	
	{95  ,3883},	
	{93  ,3874},	
	{91  ,3865},	
	{89  ,3857},	
	{87  ,3850},	
	{88  ,3844},	
	{87  ,3839},	
	{87  ,3834},	
	{86  ,3830},	
	{86  ,3825},	
	{87  ,3822},	
	{87  ,3818},	
	{86  ,3815},	
	{86  ,3811},	
	{87  ,3809},	
	{87  ,3803},	
	{87  ,3800},	
	{87  ,3798},	
	{87  ,3795},	
	{87  ,3793},	
	{87  ,3791},	
	{87  ,3787},	
	{88  ,3785},	
	{88  ,3783},	
	{89  ,3780},	
	{89  ,3777},	
	{91  ,3775},	
	{90  ,3772},	
	{89  ,3770},	
	{88  ,3766},	
	{87  ,3760},	
	{87  ,3757},	
	{87  ,3754},	
	{87  ,3750},	
	{86  ,3747},	
	{88  ,3742},	
	{87  ,3739},	
	{87  ,3736},	
	{88  ,3733},	
	{87  ,3729},	
	{88  ,3725},	
	{88  ,3720},	
	{88  ,3716},	
	{89  ,3712},	
	{89  ,3707},	
	{89  ,3701},	
	{88  ,3693},	
	{88  ,3690},	
	{90  ,3688},	
	{90  ,3687},	
	{91  ,3685},	
	{93  ,3678},	
	{92  ,3666},	
	{92  ,3637},	
	{93  ,3599},	
	{96  ,3550},	
	{96  ,3500}
};

/* T3 50C */
static struct R_PROFILE_STRUCT p1v1_custom_r_profile_t3[] = {
	{81 ,4179},	
	{81 ,4165},	
	{76 ,4151},	
	{79 ,4142},	
	{81 ,4133},	
	{81 ,4123},	
	{79 ,4112},	
	{81 ,4103},	
	{79 ,4094},	
	{79 ,4085},	
	{79 ,4067},	
	{81 ,4058},	
	{79 ,4049},	
	{79 ,4041},	
	{79 ,4033},	
	{81 ,4026},	
	{81 ,4016},	
	{79 ,4009},	
	{79 ,4001},	
	{81 ,3995},	
	{84 ,3985},	
	{81 ,3978},	
	{79 ,3971},	
	{83 ,3964},	
	{81 ,3957},	
	{81 ,3950},	
	{81 ,3943},	
	{81 ,3937},	
	{84 ,3931},	
	{84 ,3923},	
	{81 ,3917},	
	{81 ,3911},	
	{81 ,3900},	
	{81 ,3894},	
	{86 ,3889},	
	{86 ,3881},	
	{86 ,3877},	
	{84 ,3871},	
	{86 ,3864},	
	{86 ,3860},	
	{86 ,3852},	
	{88 ,3841},	
	{88 ,3833},	
	{84 ,3824},	
	{83 ,3816},	
	{81 ,3810},	
	{79 ,3806},	
	{79 ,3801},	
	{79 ,3798},	
	{81 ,3793},	
	{81 ,3790},	
	{81 ,3782},	
	{81 ,3779},	
	{81 ,3776},	
	{79 ,3773},	
	{79 ,3770},	
	{79 ,3765},	
	{76 ,3761},	
	{79 ,3759},	
	{81 ,3757},	
	{81 ,3754},	
	{81 ,3751},	
	{84 ,3748},	
	{81 ,3747},	
	{81 ,3745},	
	{84 ,3743},	
	{81 ,3740},	
	{81 ,3737},	
	{81 ,3733},	
	{81 ,3728},	
	{81 ,3722},	
	{81 ,3712},	
	{81 ,3709},	
	{79 ,3706},	
	{79 ,3700},	
	{79 ,3697},	
	{79 ,3695},	
	{81 ,3689},	
	{81 ,3686},	
	{81 ,3680},	
	{81 ,3675},	
	{81 ,3672},	
	{79 ,3668},	
	{79 ,3663},	
	{79 ,3650},	
	{79 ,3646},	
	{81 ,3644},	
	{84 ,3643},	
	{81 ,3641},	
	{79 ,3640},	
	{79 ,3633},	
	{79 ,3621},	
	{81 ,3590},	
	{84 ,3551},	
	{86 ,3500}
};

/* battery profile for actual temperature. The size should be the same as T1, T2 and T3 */
static struct BATTERY_PROFILE_STRUCT p1v1_custom_battery_profile_temperature[] = {
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};

/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3 */
static struct R_PROFILE_STRUCT p1v1_custom_r_profile_temperature[] = {
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};

#if ori_def //ori
static struct BATT_TEMPERATURE p1v1_bat_temperature_table[] = {
	{-20, 70654},
	{-15, 55337},
	{-10, 43662},
	{-5, 34696},
	{0, 27760},
	{5, 22358},
	{10, 18121},
	{15, 14778},
	{20, 12122},
	{25, 10000},
	{30, 8295},
	{35, 6916},
	{40, 5796},
	{45, 4881},
	{50, 4130},
	{55, 3510},
	{60, 2997},
	{65, 2569},
	{70, 2156}	
};
#endif



static struct BATT_TEMPERATURE ariel8_bat_temperature_table[] = {
	{-20, 70654},
	{-15, 55337},
	{-10, 43662},
	{-5, 34696},
	{0, 27760},
	{5, 22358},
	{10, 18121},
	{15, 14778},
	{20, 12122},
	{25, 10000},
	{30, 8295},
	{35, 6916},
	{40, 5796},
	{45, 4881},
	{50, 4130},
	{55, 3510},
	{60, 2997}	
};

#if ori_def //ori
void p1v1_custom_battery_init(struct mt_battery_meter_custom_data *p_meter_data)
{
	printk("lwj--%s--1\n",__func__);
	
	p_meter_data->car_tune_value = 102;
	/* NTC 10K */	
	p_meter_data->rbat_pull_up_volt = 1200;
	p_meter_data->rbat_pull_up_r = 16900;//24000;
	p_meter_data->rbat_pull_down_r = 100000000;//30000;//
	p_meter_data->cust_r_fg_offset = 0;

	p_meter_data->cust_r_sense = 10;
	p_meter_data->fg_meter_resistance = 0;//10;

	p_meter_data->temperature_t0 = 110;
	p_meter_data->tempearture_t1 = 0;
	p_meter_data->temperature_t1_5 = 10;
	p_meter_data->temperature_t2 = 25;
	p_meter_data->temperature_t3 = 50;
	p_meter_data->temperature_t = 255;/* This should be fixed, never change the value */

	/* ocv2cv transform */
	p_meter_data->enable_ocv2cv_trans = 1;
	p_meter_data->step_of_qmax = 60;//54;
	p_meter_data->cv_current = 6500;//6000;

	/* set low capacity tolerance to 2% due to flat curve of low battery area */
	p_meter_data->poweron_low_capacity_tolerance = 2;

	p_meter_data->p_batt_temperature_table = p1v1_bat_temperature_table;
	p_meter_data->battery_ntc_table_saddles =
	    sizeof(p1v1_bat_temperature_table) / sizeof(struct BATT_TEMPERATURE);

	/*
	   p_meter_data->q_max_pos_50 = 3535;
	   p_meter_data->q_max_pos_50_h_current = 3502;
	   p_meter_data->q_max_pos_25 = 3452;
	   p_meter_data->q_max_pos_25_h_current = 3409;
	 */
	/* reserve 2% capacity for 25/50 degC */
	p_meter_data->q_max_pos_50 = 6298;
	p_meter_data->q_max_pos_50_h_current = 6228;
	p_meter_data->q_max_pos_25 = 6287;
	p_meter_data->q_max_pos_25_h_current = 6225;

	p_meter_data->q_max_pos_0 = 6028;
	p_meter_data->q_max_pos_0_h_current = 5917;
	p_meter_data->q_max_neg_10 = 5615;
	p_meter_data->q_max_neg_10_h_current = 5186;

	p_meter_data->battery_profile_saddles =
	    sizeof(p1v1_custom_battery_profile_temperature) / sizeof(struct BATTERY_PROFILE_STRUCT);
	p_meter_data->battery_r_profile_saddles =
	    sizeof(p1v1_custom_r_profile_temperature) / sizeof(struct R_PROFILE_STRUCT);

	p_meter_data->p_battery_profile_t0 = p1v1_custom_battery_profile_t0;
	p_meter_data->p_battery_profile_t1 = p1v1_custom_battery_profile_t1;
	p_meter_data->p_battery_profile_t2 = p1v1_custom_battery_profile_t2;
	p_meter_data->p_battery_profile_t3 = p1v1_custom_battery_profile_t3;
	p_meter_data->p_r_profile_t0 = p1v1_custom_r_profile_t0;
	p_meter_data->p_r_profile_t1 = p1v1_custom_r_profile_t1;
	p_meter_data->p_r_profile_t2 = p1v1_custom_r_profile_t2;
	p_meter_data->p_r_profile_t3 = p1v1_custom_r_profile_t3;

	p_meter_data->p_battery_profile_temperature = p1v1_custom_battery_profile_temperature;
	p_meter_data->p_r_profile_temperature = p1v1_custom_r_profile_temperature;

	printk("lwj--%s--e\n",__func__);
}
#else

void p1v1_custom_battery_init(struct mt_battery_meter_custom_data *p_meter_data)
{
	printk("lwj--%s--1\n",__func__);
	
	//p_meter_data->car_tune_value = 94;//89;//100;//98;//102;
	/* NTC 10K */	
	p_meter_data->rbat_pull_up_volt = 1200;
	p_meter_data->rbat_pull_up_r = 16900;//24000;
	p_meter_data->rbat_pull_down_r = 100000000;//30000;//
	p_meter_data->cust_r_fg_offset = 0;

	p_meter_data->cust_r_sense = 10;
	p_meter_data->fg_meter_resistance = 0;//10;

	p_meter_data->temperature_t0 = 110;
	p_meter_data->tempearture_t1 = 0;
	p_meter_data->temperature_t1_5 = 10;
	p_meter_data->temperature_t2 = 25;
	p_meter_data->temperature_t3 = 50;
	p_meter_data->temperature_t = 255;/* This should be fixed, never change the value */


	if(bat_id_pin_val==1) //tcl
	{
		printk("lwj--%s--tcl, battery param\n",__func__);
		p_meter_data->car_tune_value = 92;//89;//100;//98;//102;
		/* ocv2cv transform */
		p_meter_data->enable_ocv2cv_trans = 0;//1;
		p_meter_data->step_of_qmax = 68;//68;//60;//54;
		p_meter_data->cv_current = 7100;//8000;//6500;//6000;

		/* set low capacity tolerance to 2% due to flat curve of low battery area */
		p_meter_data->poweron_low_capacity_tolerance = 2;

		p_meter_data->p_batt_temperature_table = tcl_p1v1_bat_temperature_table;
		p_meter_data->battery_ntc_table_saddles =
		    sizeof(tcl_p1v1_bat_temperature_table) / sizeof(struct BATT_TEMPERATURE);

#ifdef USE_TCL_ZCV_0720//0720 mod

		/* reserve 2% capacity for 25/50 degC */
		p_meter_data->q_max_pos_50 = 6023; 
		p_meter_data->q_max_pos_50_h_current = 5947; 
		p_meter_data->q_max_pos_25 = 6083;			 
		p_meter_data->q_max_pos_25_h_current = 6009; 

		p_meter_data->q_max_pos_0 = 6074;			 
		p_meter_data->q_max_pos_0_h_current = 5895;   
		p_meter_data->q_max_neg_10 = 5958;			 
		p_meter_data->q_max_neg_10_h_current = 3172; 
		
		
		/* -3% capacity for 25/50 degC */
		/*
		p_meter_data->q_max_pos_50 = 5842;//5903; 
		p_meter_data->q_max_pos_50_h_current = 5769;//5828; 
		p_meter_data->q_max_pos_25 = 5901;//5961;			 
		p_meter_data->q_max_pos_25_h_current = 5829;//5889; 

		p_meter_data->q_max_pos_0 = 5892;//5953;			 
		p_meter_data->q_max_pos_0_h_current = 5718;//5777;   
		p_meter_data->q_max_neg_10 = 5779;//5839;			 
		p_meter_data->q_max_neg_10_h_current = 3077;//3109; 
		*/
		
#else //old
		
		/* reserve 2% capacity for 25/50 degC */
		p_meter_data->q_max_pos_50 = 6000; 
		p_meter_data->q_max_pos_50_h_current = 5935; 
		p_meter_data->q_max_pos_25 = 6096;			 
		p_meter_data->q_max_pos_25_h_current = 6033; 

		p_meter_data->q_max_pos_0 = 5706;			 
		p_meter_data->q_max_pos_0_h_current = 5612;   
		p_meter_data->q_max_neg_10 = 5661;			 
		p_meter_data->q_max_neg_10_h_current = 5416; 
		
#endif	
		
		p_meter_data->battery_profile_saddles =
		    sizeof(tcl_p1v1_custom_battery_profile_temperature) / sizeof(struct BATTERY_PROFILE_STRUCT);
		p_meter_data->battery_r_profile_saddles =
		    sizeof(tcl_p1v1_custom_r_profile_temperature) / sizeof(struct R_PROFILE_STRUCT);

		p_meter_data->p_battery_profile_t0 = tcl_p1v1_custom_battery_profile_t0;
		p_meter_data->p_battery_profile_t1 = tcl_p1v1_custom_battery_profile_t1;
		p_meter_data->p_battery_profile_t2 = tcl_p1v1_custom_battery_profile_t2;
		p_meter_data->p_battery_profile_t3 = tcl_p1v1_custom_battery_profile_t3;
		p_meter_data->p_r_profile_t0 = tcl_p1v1_custom_r_profile_t0;
		p_meter_data->p_r_profile_t1 = tcl_p1v1_custom_r_profile_t1;
		p_meter_data->p_r_profile_t2 = tcl_p1v1_custom_r_profile_t2;
		p_meter_data->p_r_profile_t3 = tcl_p1v1_custom_r_profile_t3;

		p_meter_data->p_battery_profile_temperature = tcl_p1v1_custom_battery_profile_temperature;
		p_meter_data->p_r_profile_temperature = tcl_p1v1_custom_r_profile_temperature;
	}
	else
	{
		printk("lwj--%s--hp, battery param\n",__func__);
		p_meter_data->car_tune_value = 90;//89;//100;//98;//102;
		/* ocv2cv transform */
		p_meter_data->enable_ocv2cv_trans = 0;//1;
		p_meter_data->step_of_qmax = 60;//68;//54;
		p_meter_data->cv_current = 7100;//6000;

		/* set low capacity tolerance to 2% due to flat curve of low battery area */
		p_meter_data->poweron_low_capacity_tolerance = 2;

		p_meter_data->p_batt_temperature_table = hp_p1v1_bat_temperature_table;
		p_meter_data->battery_ntc_table_saddles =
		    sizeof(hp_p1v1_bat_temperature_table) / sizeof(struct BATT_TEMPERATURE);

		/* reserve 2% capacity for 25/50 degC */
		
		p_meter_data->q_max_pos_50 = 6163;
		p_meter_data->q_max_pos_50_h_current = 6177;
		p_meter_data->q_max_pos_25 = 6027;
		p_meter_data->q_max_pos_25_h_current = 6137;

		p_meter_data->q_max_pos_0 = 6233;
		p_meter_data->q_max_pos_0_h_current = 6126;
		p_meter_data->q_max_neg_10 = 6213;
		p_meter_data->q_max_neg_10_h_current = 5771;
						
		p_meter_data->battery_profile_saddles =
		    sizeof(hp_p1v1_custom_battery_profile_temperature) / sizeof(struct BATTERY_PROFILE_STRUCT);
		p_meter_data->battery_r_profile_saddles =
		    sizeof(hp_p1v1_custom_r_profile_temperature) / sizeof(struct R_PROFILE_STRUCT);

		p_meter_data->p_battery_profile_t0 = hp_p1v1_custom_battery_profile_t0;
		p_meter_data->p_battery_profile_t1 = hp_p1v1_custom_battery_profile_t1;
		p_meter_data->p_battery_profile_t2 = hp_p1v1_custom_battery_profile_t2;
		p_meter_data->p_battery_profile_t3 = hp_p1v1_custom_battery_profile_t3;
		p_meter_data->p_r_profile_t0 = hp_p1v1_custom_r_profile_t0;
		p_meter_data->p_r_profile_t1 = hp_p1v1_custom_r_profile_t1;
		p_meter_data->p_r_profile_t2 = hp_p1v1_custom_r_profile_t2;
		p_meter_data->p_r_profile_t3 = hp_p1v1_custom_r_profile_t3;

		p_meter_data->p_battery_profile_temperature = hp_p1v1_custom_battery_profile_temperature;
		p_meter_data->p_r_profile_temperature = hp_p1v1_custom_r_profile_temperature;
	}
	printk("lwj--%s--e\n",__func__);
}

#endif

void ariel8_custom_battery_init(struct mt_battery_meter_custom_data *p_meter_data)
{
	printk("lwj--%s--1\n",__func__);
	
	/* todo: should update ariel8 board value here */
	p_meter_data->car_tune_value = 102;

	/* NTC 10K */
	p_meter_data->rbat_pull_up_r = 24000;
	p_meter_data->rbat_pull_down_r = 100000000;
	p_meter_data->cust_r_fg_offset = 0;

	/* ocv2cv transform */
	p_meter_data->enable_ocv2cv_trans = 0; /* change to 1 when zcv profile is ready */
	p_meter_data->step_of_qmax = 54;
	p_meter_data->cv_current = 6000;

	/* set low capacity tolerance to 2% due to flat curve of low battery area */
	p_meter_data->poweron_low_capacity_tolerance = 2;

	p_meter_data->p_batt_temperature_table = ariel8_bat_temperature_table;
	p_meter_data->battery_ntc_table_saddles =
	    sizeof(ariel8_bat_temperature_table) / sizeof(struct BATT_TEMPERATURE);

	/* todo: should update ariel8 battery capacity here */
	p_meter_data->q_max_pos_50 = 4000;
	p_meter_data->q_max_pos_50_h_current = 3950;
	p_meter_data->q_max_pos_25 = 4000;
	p_meter_data->q_max_pos_25_h_current = 3950;

	p_meter_data->q_max_pos_0 = 4000;
	p_meter_data->q_max_pos_0_h_current = 3950;
	p_meter_data->q_max_neg_10 = 4000;
	p_meter_data->q_max_neg_10_h_current = 3950;

	p_meter_data->battery_profile_saddles =
	    sizeof(p1v1_custom_battery_profile_temperature) / sizeof(struct BATTERY_PROFILE_STRUCT);
	p_meter_data->battery_r_profile_saddles =
	    sizeof(p1v1_custom_r_profile_temperature) / sizeof(struct R_PROFILE_STRUCT);

	/* todo: should update arile8 zcv table here */
	p_meter_data->p_battery_profile_t0 = p1v1_custom_battery_profile_t0;
	p_meter_data->p_battery_profile_t1 = p1v1_custom_battery_profile_t1;
	p_meter_data->p_battery_profile_t2 = p1v1_custom_battery_profile_t2;
	p_meter_data->p_battery_profile_t3 = p1v1_custom_battery_profile_t3;
	p_meter_data->p_r_profile_t0 = p1v1_custom_r_profile_t0;
	p_meter_data->p_r_profile_t1 = p1v1_custom_r_profile_t1;
	p_meter_data->p_r_profile_t2 = p1v1_custom_r_profile_t2;
	p_meter_data->p_r_profile_t3 = p1v1_custom_r_profile_t3;

	p_meter_data->p_battery_profile_temperature = p1v1_custom_battery_profile_temperature;
	p_meter_data->p_r_profile_temperature = p1v1_custom_r_profile_temperature;

	printk("lwj--%s--e\n",__func__);
}

struct mt_bm_item {
	const char *battery_name;
	void (*func)(struct mt_battery_meter_custom_data *p_meter_data);
};

static struct mt_bm_item mt_battery_profiles[] = {
	{"p1v1_battery", p1v1_custom_battery_init},
	{"ariel_battery", ariel8_custom_battery_init}
};

int mt_bm_of_probe(struct device *dev, struct mt_battery_meter_custom_data **p_meter_data)
{
#ifdef CONFIG_OF
	struct device_node *of_node = dev->of_node;
	const char *bname;
	int i;
	int bat_id_det_pin;
	int ret = 0;


/*add by lwj for match battery id 0513 ---{*/
	bat_id_det_pin = of_get_named_gpio(of_node, "bat-id-det", 0);
	if (gpio_is_valid(bat_id_det_pin)) {

		printk("lwj-bat-id-det:\"%s\"(%d)\n", "bat-id-det", bat_id_det_pin);

		ret = devm_gpio_request(dev, bat_id_det_pin, "bat-id-det");
		if (ret)
			printk("devm_gpio_request fail, ret=%d\n", ret);
		else
		{
			gpio_direction_input(bat_id_det_pin);
			bat_id_pin_val=gpio_get_value(bat_id_det_pin);
			printk("lwj--%s--get bat_id_pin_val=%d\n",__func__,bat_id_pin_val);
		}
	} else {
		printk("lwj-bat-id-det: \"%s\"(%d) is %s !!\n", "bat-id-det", bat_id_det_pin,
				(bat_id_det_pin == (-ENOENT) ? "non-used" : "invalid"));
	}

/*add by lwj for match battery id 0513 ---}*/

	if (*p_meter_data == NULL)
	{	
		printk("lwj--%s--use default bat profile\n",__func__);
		if(bat_id_pin_val==1)
		{	
			printk("lwj--%s--tcl, battery param--0516\n",__func__);
			*p_meter_data = &tcl_default_bat_meter_data;
		}
		else
		{	
			printk("lwj--%s--hp, battery param--0516\n",__func__);
			//*p_meter_data = &default_bat_meter_data;
			*p_meter_data = &hp_default_bat_meter_data;
		}
	}


/*add battery id info 0519 ---{*/
#ifdef CONFIG_NEOSTRA_HW_INFO_NODE	
		neostra_add_hw_info("battery", (bat_id_pin_val == 1)? "tcl":"haopeng", 0);
#endif
/*add battery id info 0519 ---}*/
	
	bname = of_get_property(of_node, "battery", NULL);
	if (!bname) {
		dev_warn(dev, "No custom battery profile. Use default setting.\n");
		return 0;
	}

	for (i = 0; i < sizeof(mt_battery_profiles) / sizeof(struct mt_bm_item); i++) {
		if (strcmp(bname, mt_battery_profiles[i].battery_name) == 0) {
			dev_warn(dev, "match battery profile: %s\n", bname);
			mt_battery_profiles[i].func(*p_meter_data);
			break;
		}
	}

	printk("lwj--%s--0516-e\n",__func__);
	of_node_put(of_node);

#endif
	return 0;
}
